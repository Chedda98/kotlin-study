# 9μ¥: μ λ„¤λ¦­μ¤
## μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„°
### μ λ„¤λ¦­ ν•¨μμ™€ ν”„λ΅νΌν‹°
λ¦¬μ¤νΈλ¥Ό λ‹¤λ£¨λ” ν•¨μλ¥Ό μ‘μ„±ν•λ‹¤λ©΄ μ–΄λ–¤ νΉμ • νƒ€μ…μ„ μ €μ¥ν•λ” λ¦¬μ¤νΈλΏ μ•„λ‹λΌ **λ¨λ“  λ¦¬μ¤νΈλ¥Ό λ‹¤λ£° μ μλ” ν•¨μ**λ¥Ό μ›ν•  κ²ƒ β†’ μ΄λ΄λ• **μ λ„¤λ¦­ ν•¨μ**λ¥Ό μ‘μ„±ν•΄μ•Ό ν•¨
<br>
--κ·Έλ¦Ό1--
<br>
μ΄λ° ν•¨μλ¥Ό κµ¬μ²΄μ μΈ λ¦¬μ¤νΈμ— λ€ν•΄ νΈμ¶ν•  λ• νƒ€μ… μΈμλ¥Ό λ…μ‹μ μΌλ΅ μ§€μ •ν•  μ μμΌλ‚ μ‹¤μ λ΅λ” λ€λ¶€λ¶„μ μ»΄νμΌλ¬κ°€ νƒ€μ… μΈμλ¥Ό μ¶”λ΅ ν•  μ μμΌλ―€λ΅ μ΄λ ‡κ² μ‚¬μ©ν•  ν•„μ”κ°€ μ—†μ
```
>>> val letters = ('a'..'z').toList()
>>> println(letters.slice<Char>(0..2)) // νƒ€μ… μΈμλ¥Ό λ…μ‹μ μΌλ΅ μ§€μ •
[a, b, c]
>>> println(letters.slice(10..13)) // μ»΄νμΌλ¬κ°€ T == CharλΌλ” μ‚¬μ‹¤μ„ μ¶”λ΅ 
[k, l, m, n]
```

### νƒ€μ… νλΌλ―Έν„° μ μ•½
μ–΄λ–¤ νƒ€μ…μ„ μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… νλΌλ―Έν„°μ— λ€ν• μƒν•(upper bound)μΌλ΅ μ§€μ •ν•λ©΄ κ·Έ μ λ„¤λ¦­ νƒ€μ…μ„ μΈμ¤ν„΄μ¤ν™”ν•  λ• μ‚¬μ©ν•λ” νƒ€μ… μΈμλ” λ°λ“μ‹ κ·Έ μƒν• νƒ€μ…μ΄κ±°λ‚ κ·Έ μƒν• νƒ€μ…μ ν•μ„ νƒ€μ…μ΄μ–΄μ•Ό ν•¨
<br>
--κ·Έλ¦Ό2--
<br>
νƒ€μ… νλΌλ―Έν„° Tμ— λ€ν• μƒν•μ„ μ •ν•λ©΄ T νƒ€μ…μ κ°’μ„ κ·Έ μƒν• νƒ€μ…μ κ°’μΌλ΅ μ·¨κΈ‰ν•  μ μμ

```
fun <T : Number> oneHalf(value: T): Double { // Numberλ¥Ό νƒ€μ… νλΌλ―Έν„° μƒν•μΌλ΅ μ •ν•¨
    return value.toDouble() / 2.0 // Number ν΄λμ¤μ— μ •μλ λ©”μ†λ“λ¥Ό νΈμ¶
}

>>> println(oneHalf(3))
1.5
```

### νƒ€μ… νλΌλ―Έν„°λ¥Ό λ„μ΄ λ  μ μ—†λ” νƒ€μ…μΌλ΅ ν•μ •
μ•„λ¬΄λ° μƒν•μ„ μ •ν•μ§€ μ•μ€ νƒ€μ… νλΌλ―Έν„°λ” κ²°κ³Όμ μΌλ΅ `Any?`λ¥Ό μƒν•μΌλ΅ μ •ν• νλΌλ―Έν„°μ™€ κ°™μ

```
class Processor<T> {
		fun process(value: T) {
				value?.hashCode() // valueλ” λ„μ΄ λ  μ μμ. λ”°λΌμ„ μ•μ „ν• νΈμ¶μ„ μ‚¬μ©ν•΄μ•Ό ν•¨
		}
}
```

`<T : Any>`λΌλ” μ μ•½μ€ T νƒ€μ…μ΄ ν•­μƒ λ„μ΄ λ  μ μ—†λ” νƒ€μ…μ΄ λλ„λ΅ λ³΄μ¥ν•¨

```
class Processor<T : Any> {
		fun process(value: T) {
				value.hashCode()
		}
}
```
λλ” νƒ€μ… νλΌλ―Έν„°λ¥Ό λ„μ΄ λ  μ μ—†λ” νƒ€μ…μΌλ΅ μ μ•½ν•λ©΄ νƒ€μ… μΈμλ΅ λ„μ΄ λ  μ μλ” νƒ€μ…μ΄ λ“¤μ–΄μ¤λ” μΌμ„ λ§‰μ„ μ μμ

## μ‹¤ν–‰ μ‹ μ λ„¤λ¦­μ¤μ λ™μ‘: μ†κ±°λ νƒ€μ… νλΌλ―Έν„°μ™€ μ‹¤μ²΄ν™”λ νƒ€μ… νλΌλ―Έν„°
### μ‹¤ν–‰ μ‹μ μ μ λ„¤λ¦­: νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤νΈ
μλ°”μ™€ λ§μ°¬κ°€μ§€λ΅ μ½”ν‹€λ¦° μ λ„¤λ¦­ νƒ€μ… μΈμ μ •λ³΄λ” λ°νƒ€μ„μ— μ§€μ›μ§€λ”λ° μ΄λ” μ λ„¤λ¦­ ν΄λμ¤ μΈμ¤ν„΄μ¤κ°€ κ·Έ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  λ• μ“°μΈ νƒ€μ… μΈμμ— λ€ν• μ •λ³΄λ¥Ό μ μ§€ν•μ§€ μ•λ”λ‹¤λ” λ»!
```
val list1: List<String> = listOf("a", "b")
val list2: List<Int> = listOf(1, 2, 3)
```
<br>
--κ·Έλ¦Ό3--
<br>
μ»΄νμΌλ¬λ” λ‘ λ¦¬μ¤νΈλ¥Ό μ„λ΅ λ‹¤λ¥Έ νƒ€μ…μΌλ΅ μΈμ‹ν•μ§€λ§ μ‹¤ν–‰ μ‹μ μ— κ·Έ λ‘μ€ μ™„μ „ν κ°™μ€ νƒ€μ…μ κ°μ²΄ <br>

νƒ€μ… νλΌλ―Έν„°κ°€ 2κ° μ΄μƒμ΄λΌλ©΄ λ¨λ“  νƒ€μ… νλΌλ―Έν„°μ— `*`λ¥Ό ν¬ν•¨μ‹μΌμ•Ό ν•λ‹¤.

```
fun printSum(c: Collection<*>) {
    val intList = c as? List<Int>                 
            ?: throw IllegalArgumentException("List is expected")
    println(intList.sum())
}
>>> printSum(listOf(1, 2, 3))               
6
```

μ‹¤ν–‰ μ‹μ μ—λ” μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… μΈμλ¥Ό μ• μ μ—†μΌλ―€λ΅ μΊμ¤ν…μ— ν•­μƒ μ„±κ³µ. νƒ€μ… μΊμ¤ν…μ„ μ‚¬μ©ν•λ©΄ μ»΄νμΌλ¬κ°€ "unchecked case(κ²€μ‚¬ν•  μ μ—†λ” μΊμ¤ν…)"μ΄λΌλ” κ²½κ³ λ¥Ό ν•΄μ¤. μ»΄νμΌλ¬κ°€ μΊμ¤ν… κ΄€λ ¨ κ²½κ³ λ¥Ό ν•λ‹¤λ” μ μ„ μ μ™Έν•λ©΄ λ¨λ“  μ½”λ“κ°€ λ¬Έμ μ—†μ΄ μ»΄νμΌ λ¨<br>

ν•μ§€λ§ μλ»λ νƒ€μ…μ μ›μ†κ°€ λ“¤μ–΄μλ” λ¦¬μ¤νΈλ¥Ό μ „λ‹¬ν•λ©΄ μ‹¤ν–‰ μ‹μ μ— `ClassCaseException`μ΄ λ°μƒ
```
>>> printSum(setOf(1, 2, 3))                  
IllegalArgumentException: List is expected
>>> printSum(listOf("a", "b", "c"))          
ClassCastException: String cannot be cast to Number
```

μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” **μ»΄νμΌ μ‹μ μ— νƒ€μ… μ •λ³΄κ°€ μ£Όμ–΄μ§„ κ²½μ°, is κ²€μ‚¬λ¥Ό μν–‰ν•κ² ν—μ©**ν•  μ μμ„ μ •λ„λ΅ λ‘λ‘!
```
fun printSum(c: Collection<Int>) {
    if (c is List<Int>) {           
        println(c.sum())
    }
}
>>> printSum(listOf(1, 2, 3))
6
```
μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” μ°λ¦¬μ—κ² μ•μ „ν•μ§€ λ»ν• κ²€μ‚¬μ™€ μν–‰ν•  μ μλ” κ²€μ‚¬λ¥Ό μ•λ ¤μ£ΌκΈ° μ„ν•΄ μµλ€ν• λ…Έλ ¥ν•¨. λ”°λΌμ„ μ»΄νμΌλ¬ κ²½κ³ μ μλ―Έμ™€ μ–΄λ–¤ μ—°μ‚°μ΄ μ•μ „ν•μ§€μ— λ€ν•΄ μ•μ•„μ•Ό ν•¨!

### μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°μ μ μ•½
λ‹¤μκ³Ό κ°™μ€ κ²½μ°μ— μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•  μ μμ
- νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤ν…(is, !is, as, as?)
- 10μ¥μ—μ„ μ„¤λ…ν•  μ½”ν‹€λ¦° λ¦¬ν”λ ‰μ… API(::class)
- μ½”ν‹€λ¦° νƒ€μ…μ— λ€μ‘ν•λ” java.lang.Classλ¥Ό μ–»κΈ°(::class.java)
- λ‹¤λ¥Έ ν•¨μλ¥Ό νΈμ¶ν•  λ• νƒ€μ… μΈμλ΅ μ‚¬μ©
<br>

ν•μ§€λ§ λ‹¤μκ³Ό κ°™μ€ μΌμ€ ν•  μ μ—†μ
- νƒ€μ… νλΌλ―Έν„° ν΄λμ¤μ μΈμ¤ν„΄μ¤ μƒμ„±ν•κΈ°
- νƒ€μ… νλΌλ―Έν„° ν΄λμ¤μ λ™λ° κ°μ²΄ λ©”μ†λ“ νΈμ¶ν•κΈ°
- μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ”κµ¬ν•λ” ν•¨μλ¥Ό νΈμ¶ν•λ©΄μ„ μ‹¤μ²΄ν™”ν•μ§€ μ•μ€ νƒ€μ… νλΌλ―Έν„°λ΅ λ°›μ€ νƒ€μ…μ„ νƒ€μ… μΈμλ΅ λ„κΈ°κΈ°
- ν΄λμ¤, ν”„λ΅νΌν‹°, μΈλΌμΈ ν•¨μκ°€ μ•„λ‹ ν•¨μμ νƒ€μ… νλΌλ―Έν„°λ¥Ό refiedλ΅ μ§€μ •ν•κΈ°

## λ³€μ„±: μ λ„¤λ¦­κ³Ό ν•μ„ νƒ€μ…
λ³€μ„± κ°λ…μ€ `List<String>`μ™€ `List<Any>`μ™€ κ°™μ΄ κΈ°μ € νƒ€μ…μ΄ κ°™κ³  νƒ€μ… μΈμκ°€ λ‹¤λ¥Έ μ—¬λ¬ νƒ€μ…μ΄ μ„λ΅ μ–΄λ–¤ κ΄€κ³„κ°€ μλ”μ§€ μ„¤λ…ν•λ” κ°λ…. λ³€μ„±μ„ μ ν™μ©ν•λ©΄ μ‚¬μ©μ— λ¶νΈν•μ§€ μ•μΌλ©΄μ„ νƒ€μ… μ•μ „μ„±μ„ λ³΄μ¥ν•λ” APIλ¥Ό λ§λ“¤ μ μμ!

### λ³€μ„±μ΄ μλ” μ΄μ : μΈμλ¥Ό ν•¨μμ— λ„κΈ°κΈ°
`List<Any>` νƒ€μ…μ νλΌλ―Έν„°λ¥Ό λ°›λ” ν•¨μμ— `List<String>`μ„ λ„κΈ°λ©΄ μ•μ „ν• κΉ? <br>

β†’ String ν΄λμ¤λ” Anyλ¥Ό ν™•μ¥ν•λ―€λ΅ Any νƒ€μ… κ°’μ„ νλΌλ―Έν„°λ΅ λ°›λ” ν•¨μμ— String κ°’μ„ λ„κ²¨λ„ μ λ€λ΅ μ•μ „ν•¨. ν•μ§€λ§ Anyμ™€ Stringμ΄ List μΈν„°νμ΄μ¤μ νƒ€μ… μΈμλ΅ λ“¤μ–΄κ°€λ” κ²½μ° μ•μ „μ„±μ„ λ³΄μ¥ν•  μ μ—†κ² λ¨.
```
>>> val strings = mutableListOf("abc", "bac")
>>> addAnswer(strings) // μ΄ μ¤„μ΄ μ»΄νμΌλλ©΄,               
>>> println(strings.maxBy { it.length })  
ClassCastException: Integer cannot be cast to String // μ‹¤ν–‰ μ‹μ μ— μμ™Έκ°€ λ°μƒν•  κ²ƒ
```

μ„ μμ λ” `MutableList<Any>`κ°€ ν•„μ”ν• κ³³μ— `MutableList<String>`μ„ λ„κΈ°λ©΄ μ• λλ‹¤λ” μ‚¬μ‹¤μ„ λ³΄μ—¬μ¤. μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” μ‹¤μ  μ΄λ° ν•¨μ νΈμ¶μ„ κΈμ§€ν•κ³  μμ.

### κ³µλ³€μ„±: ν•μ„ νƒ€μ… κ΄€κ³„λ¥Ό μ μ§€

```
π’΅ μ•μΌλ΅ κ³„μ† λ‚μ¬ κ³µλ³€ κ΄€λ ¨ κ°λ… μ§κ³  κ°€κΈ°

β”οΈ κ³µλ³€(Variance) : Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ•, T <A> κ°€ T<B>μ ν•μ„ νƒ€μ…μ΄λ©΄ Tκ°€ κ³µλ³€μ μ„±μ§μ„ κ°€μ§€κ³  μλ‹¤κ³  λ§ν•λ‹¤.

β”οΈ λ°κ³µλ³€(Contravariance) : Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ–„, T<B>κ°€ T<A> μ ν•μ„ νƒ€μ…μ΄λ©΄ Tκ°€ λ°κ³µλ³€μ μ„±μ§μ„ κ°€μ§€κ³  μλ‹¤κ³  λ§ν•λ‹¤.

β”οΈ λ¬΄κ³µλ³€(Invariance) Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ•, T<A>μ™€ T<B>κ°„μ μ•„λ¬΄ κ΄€κ³„λ„ μ—†λ‹¤λ©΄ λ¬΄κ³µλ³€μ΄λΌκ³  λ§ν•λ‹¤.
```
`Producer<T>`λ¥Ό μλ΅ κ³µλ³€μ„± ν΄λμ¤λ¥Ό μ„¤λ…ν•μ. Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ• `Producer<A>`κ°€ `Producer<B>`μ ν•μ„ νƒ€μ…μ΄λ©΄ Peoducerλ” κ³µλ³€μ μ΄λ©° μ΄λ¥Ό ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ μ§€λλ‹¤κ³  λ§ν•¨. μλ¥Ό λ“¤μ–΄ Catκ°€ Animalμ ν•μ„ νƒ€μ…μ΄κΈ° λ•λ¬Έμ— `Producer<Cat>`μ€ `Producer<Animal>`μ ν•μ„ νƒ€μ…μ„.
μ½”ν‹€λ¦°μ—μ„ μ λ„¤λ¦­ ν΄λμ¤κ°€ νƒ€μ… νλΌλ―Έν„°μ— λ€ν•΄ κ³µλ³€μ μ„μ„ ν‘μ‹ν•λ ¤λ©΄ νƒ€μ… νλΌλ―Έν„° μ΄λ¦„ μ•μ— **out**μ„ λ„£μ–΄μ•Ό ν•¨!
```
interface Producer<out T> {  // ν΄λμ¤κ°€ Tμ— λ€ν•΄ κ³µλ³€μ μ΄λΌκ³  μ„ μ–Έ
    fun produce(): T
}
```

ν΄λμ¤μ νƒ€μ… νλΌλ―Έν„°λ¥Ό κ³µλ³€μ μΌλ΅ λ§λ“¤λ©΄ ν•¨μ μ •μμ— μ‚¬μ©ν• νλΌλ―Έν„° νƒ€μ…κ³Ό νƒ€μ… μΈμμ νƒ€μ…μ΄ μ •ν™•ν μΌμΉν•μ§€ μ•λ”λΌλ„ κ·Έ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό ν•¨μ μΈμλ‚ λ°ν™κ°’μΌλ΅ μ‚¬μ©ν•  μ μμ
```
open class Animal {
    fun feed() { ... }
}
class Herd<T : Animal> {  // μ΄ νƒ€μ… νλΌλ―Έν„°λ¥Ό λ¬΄κ³µλ³€μ„±μΌλ΅ μ§€μ • 
    val size: Int get() = ...
    operator fun get(i: Int): T { ... }
}
fun feedAll(animals: Herd<Animal>) {
    for (i in 0 until animals.size) {
        animals[i].feed()
    }
}

// μ‚¬μ©μ μ½”λ“κ°€ κ³ μ–‘μ΄ λ¬΄λ¦¬λ¥Ό λ§λ“¤μ–΄μ„ κ΄€λ¦¬
class Cat : Animal() {   
    fun cleanLitter() { ... }
}
fun takeCareOfCats(cats: Herd<Cat>) {
    for (i in 0 until cats.size) {
        cats[i].cleanLitter()
        // feedAll(cats)           
    }
}
```
feedAll ν•¨μμ—κ² κ³ μ–‘μ΄ λ¬΄λ¦¬λ¥Ό λ„κΈ°λ©΄ νƒ€μ… λ¶μΌμΉ(type mismatch) μ¤λ¥λ¥Ό λ³Ό μ μμ. μ΄λ” Herd ν΄λμ¤μ T νƒ€μ… νλΌλ―Έν„°μ— λ€ν•΄ μ•„λ¬΄ λ³€μ„±λ„ μ§€μ •ν•μ§€ μ•μ•κΈ° λ•λ¬Έμ— κ³ μ–‘μ΄ λ¬΄λ¦¬λ” λ™λ¬Ό λ¬΄λ¦¬μ ν•μ„ ν΄λμ¤κ°€ μ•„λ‹. <br>

Herd ν΄λμ¤λ” Listμ™€ λΉ„μ·ν• APIλ¥Ό μ κ³µν•λ©° λ™λ¬Όμ„ κ·Έ ν΄λμ¤μ— μ¶”κ°€ν•κ±°λ‚ λ¬΄λ¦¬μ•μ λ™λ¬Όμ„ λ‹¤λ¥Έ λ™λ¬Όλ΅ λ°”κΏ€ μλ” μ—†μ. λ”°λΌμ„ Herdλ¥Ό κ³µλ³€μ μΈ ν΄λμ¤λ΅ λ§λ“¤κ³  νΈμ¶ μ½”λ“λ¥Ό μ μ ν λ°”κΏ€ μ μμ!

```
class Herd<out T : Animal> {  
   ...
}
fun takeCareOfCats(cats: Herd<Cat>) {
    for (i in 0 until cats.size) {
        cats[i].cleanLitter()
    }
    feedAll(cats)  
}
```

ν΄λμ¤ λ©¤λ²„λ¥Ό μ„ μ–Έν•  λ• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•  μ μλ” μ§€μ μ€ λ¨λ‘ μΈ(in)κ³Ό μ•„μ›ƒ(out)μ„μΉλ΅ λ‚λ‰¨. <br>

TλΌλ” νƒ€μ… νλΌλ―Έν„°λ¥Ό μ„ μ–Έν•κ³  Tλ¥Ό μ‚¬μ©ν•λ” ν•¨μκ°€ λ©¤λ²„λ΅ μλ” ν΄λμ¤λ¥Ό μƒκ°ν•΄λ³΄μ. <br>
β†’ Tκ°€ ν•¨μμ λ°ν™ νƒ€μ…μ— μ“°μΈλ‹¤λ©΄ Tλ” μ•„μ›ƒ μ„μΉμ— μκ³  κ·Έ ν•¨μλ” T νƒ€μ…μ κ°’μ„ μƒμ‚°ν•¨ <br>
β†’ Tκ°€ ν•¨μμ νλΌλ―Έν„° νƒ€μ…μ— μ“°μΈλ‹¤λ©΄ Tλ” μΈ μ„μΉμ— μκ³  κ·Έ ν•¨μλ” T νƒ€μ…μ κ°’μ„ μ†λΉ„ν•¨

### λ°κ³µλ³€μ„±: λ’¤μ§‘ν ν•μ„ νƒ€μ… κ΄€κ³„
λ°κ³µλ³€ ν΄λμ¤μ ν•μ„ νƒ€μ… κ΄€κ³„λ” κ³µλ³€ ν΄λμ¤μ κ²½μ°μ™€ λ°λ€! `Consumer<T>`λ¥Ό μλ΅ λ“¤μ–΄ μ„¤λ…ν•΄λ³΄λ©΄ νƒ€μ… Bκ°€ νƒ€μ… Aμ ν•μ„ νƒ€μ…μΈ κ²½μ° `Consumer<A>`κ°€ `Consumer<B>`μ ν•μ„ νƒ€μ…μΈ κ΄€κ³„κ°€ μ„±λ¦½ν•λ©΄ μ λ„¤λ¦­ ν΄λμ¤ `Consumer<T>`λ” νƒ€μ… μΈμ Tμ— λ€ν•΄ λ°κ³µλ³€μ„
<br>
--κ·Έλ¦Ό5--
<br>
|κ³µλ³€μ„±|λ°κ³µλ³€μ„±|λ¬΄κ³µλ³€|
|------|---|---|
|Producer`<T>`|Consumer`<T>`|MutableList`<T>`|
|νƒ€μ… μΈμμ ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ λ„¤λ¦­ νƒ€μ…μ—μ„λ„ μ μ§€|νƒ€μ… μΈμμ ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ λ„¤λ¦­ νƒ€μ…μ—μ„ λ’¤μ§‘ν|ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ„±λ¦½ν•μ§€ μ•μ|
|Producerμ€ Producerμ ν•μ„ νƒ€μ…|Producerμ€ Producerμ ν•μ„ νƒ€μ…||
|νƒ€μ… μΈμμ ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ λ„¤λ¦­ νƒ€μ…μ—μ„λ„ μ μ§€λ¨|νƒ€μ… μΈμμ ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ λ„¤λ¦­ νƒ€μ…μ—μ„ λ’¤μ§‘ν|ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ„±λ¦½ν•μ§€ μ•μ|
|Tλ¥Ό μ•„μ›ƒ μ„μΉμ—μ„λ§ μ‚¬μ©ν•  μ μμ|Tλ¥Ό μΈ μ„μΉμ—μ„λ§ μ‚¬μ©ν•  μ μμ|Tλ¥Ό μ•„λ¬΄ μ„μΉμ—μ„λ‚ μ‚¬μ©ν•  μ μμ|

### μ¤νƒ€ ν”„λ΅μ μ…: νƒ€μ… μΈμ λ€μ‹  * μ‚¬μ©
μ•λ¶€λ¶„μ—μ„ νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤νΈμ— λ€ν•΄ μ„¤λ…ν•  λ• μ λ„¤λ¦­ νƒ€μ… μΈμ μ •λ³΄κ°€ μ—†μμ„ ν‘ν„ν•κΈ° μ„ν•΄ μ¤νƒ€ ν”„λ΅μ μ…μ„ μ‚¬μ©ν•λ‹¤κ³  λ§ν–μ. μ΄μ  μ¤νƒ€ ν”„λ΅μ μ…μ μλ―Έλ¥Ό μμ„Έν μ‚΄ν΄λ³΄μ! <br>
`MutableList<>`λ” `MutableList<Any?>`μ™€ κ°™μ§€ μ•λ‹¤! <br>
`MutableList<Any?>`λ” λ¨λ“  νƒ€μ…μ μ›μ†λ¥Ό λ‹΄μ„ μ μλ‹¤λ” μ‚¬μ‹¤μ„ μ• μ μλ” λ¦¬μ¤νΈμΈ λ°λ©΄, `MutableList<>`λ” μ–΄λ–¤ μ •ν•΄μ§„ κµ¬μ²΄μ μΈ νƒ€μ…μ μ›μ†λ§μ„ λ‹΄λ” λ¦¬μ¤νΈμ§€λ§ κ·Έ μ›μ†μ νƒ€μ…μ„ μ •ν™•ν λ¨λ¥Έλ‹¤λ” μ‚¬μ‹¤μ„ ν‘ν„ν•¨
```
>>> val list: MutableList<Any?> = mutableListOf('a', 1, "qwe")
>>> val chars = mutableListOf('a', 'b', 'c')
>>> val unknownElements: MutableList<*> =                
...         if (Random().nextBoolean()) list else chars
>>> unknownElements.add(42) // μ»΄νμΌλ¬λ” μ΄ λ©”μ†λ“ νΈμ¶μ„ κΈμ§€ν•¨                       
Error: Out-projected type 'MutableList<*>' prohibits
the use of 'fun add(element: E): Boolean'
>>> println(unknownElements.first()) // μ›μ†λ¥Ό κ°€μ Έμ™€λ„ μ•μ „ν•¨. first()λ” Any? νƒ€μ…μ μ›μ†λ¥Ό λ°ν™
```

νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‹κ·Έλ‹μ²μ—μ„ μ „ν€ μ–ΈκΈ‰ν•μ§€ μ•κ±°λ‚ λ°μ΄ν„°λ¥Ό μ½κΈ°λ” ν•μ§€λ§ κ·Έ νƒ€μ…μ—λ” κ΄€μ‹¬μ΄ μ—†λ” κ²½μ°μ™€ κ°™μ΄ νƒ€μ… μΈμ μ •λ³΄κ°€ μ¤‘μ”ν•μ§€ μ•μ„ λ•λ„ μ¤νƒ€ ν”„λ΅μ μ… κµ¬λ¬Έμ„ μ‚¬μ©ν•  μ μμ
```
fun printFirst(list: List<*>) {  // λ¨λ“  λ¦¬μ¤νΈλ¥Ό μΈμλ΅ λ°›μ„ μ μμ
    if (list.isNotEmpty()) { // isNotEmpty()μ—μ„λ” μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•μ§€ μ•μ
        println(list.first()) // first()λ” μ΄μ  Any?λ¥Ό λ°ν™ν•μ§€λ§ μ—¬κΈ°μ„λ” κ·Έ νƒ€μ…λ§μΌλ΅ μ¶©λ¶„ν•¨
    }
}
>>> printFirst(listOf("Svetlana", "Dmitry"))
Svetlana
```

## 9μ¥ μ”μ•½
- μ½”ν‹€λ¦° μ λ„¤λ¦­μ¤λ” μλ°”μ™€ μ•„μ£Ό λΉ„μ·ν•¨. μ λ„¤λ¦­ ν•¨μμ™€ ν΄λμ¤λ¥Ό μλ°”μ™€ λΉ„μ·ν•κ² μ„ μ–Έν•  μ μμ
- μλ°”μ™€ λ§μ°¬κ°€μ§€λ΅ μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… μΈμλ” μ»΄νμΌ μ‹μ μ—λ§ μ΅΄μ¬
- νƒ€μ… μΈμκ°€ μ‹¤ν–‰ μ‹μ μ— μ§€μ›μ§€λ―€λ΅ νƒ€μ… μΈμκ°€ μλ” νƒ€μ…(μ λ„¤λ¦­ νƒ€μ…)μ„ is μ—°μ‚°μλ¥Ό μ‚¬μ©ν•΄ κ²€μ‚¬ν•  μ μ—†μ
- μΈλΌμΈ ν•¨μμ νƒ€μ… λ§¤κ°λ³€μλ¥Ό refiedλ΅ ν‘μ‹ν•΄μ„ μ‹¤μ²΄ν™”ν•λ©΄ μ‹¤ν–‰ μ‹μ μ— κ·Έ νƒ€μ…μ„ isλ΅ κ²€μ‚¬ν•κ±°λ‚ java.lang.Class μΈμ¤ν„΄μ¤λ¥Ό μ–»μ„ μ μμ
- λ³€μ„±μ€ κΈ°μ € ν΄λμ¤κ°€ κ°™κ³  νƒ€μ… νλΌλ―Έν„°κ°€ λ‹¤λ¥Έ λ‘ μ λ„¤λ¦­ νƒ€μ… μ‚¬μ΄μ μƒμ„/ν•μ„ νƒ€μ… κ΄€κ³„κ°€ νƒ€μ… μΈμ μ‚¬μ΄μ μƒμ„/ν•μ„ νƒ€μ… κ΄€κ³„μ— μν•΄ μ–΄λ–¤ μν–¥μ„ λ°›λ”μ§€λ¥Ό λ…μ‹ν•λ” λ°©λ²•
- μ λ„¤λ¦­ ν΄λμ¤μ νƒ€μ… νλΌλ―Έν„°κ°€ μ•„μ›ƒ μ„μΉμ—μ„λ§ μ‚¬μ©λλ” κ²½μ°(μƒμ‚°μ) κ·Έ νƒ€μ… νλΌλ―Έν„°λ¥Ό outμΌλ΅ ν‘μ‹ν•΄μ„ κ³µλ³€μ μΌλ΅ λ§λ“¤ μ μμ
- κ³µλ³€μ μΈ κ²½μ°μ™€ λ°λ€λ΅ μ λ„¤λ¦­ ν΄λμ¤μ νƒ€μ… νλΌλ―Έν„°κ°€ μΈ μ„μΉμ—μ„λ§ μ‚¬μ©λλ” κ²½μ°(μ†λΉ„μ) κ·Έ νƒ€μ… νλΌλ―Έν„°λ¥Ό inμΌλ΅ ν‘μ‹ν•΄μ„ λ°κ³µλ³€μ μΌλ΅ λ§λ“¤ μ μμ
- μ½”ν‹€λ¦°μ μ½κΈ° μ „μ© List μΈν„°νμ΄μ¤λ” κ³µλ³€μ μ„. λ”°λΌμ„ `List<String>`μ€ `List<Any>`μ ν•μ„ νƒ€μ…μ„
- ν•¨μ μΈν„°νμ΄μ¤λ” μ²« λ²μ§Έ νƒ€μ… νλΌλ―Έν„°μ— λ€ν•΄μ„λ” λ°κ³µλ³€μ μ΄κ³ , λ‘ λ²μ§Έ νƒ€μ… νλΌλ―Έν„°μ— λ€ν•΄μ„λ” κ³µλ³€μ μ„
- μ½”ν‹€λ¦°μ—μ„λ” μ λ„¤λ¦­ ν΄λμ¤μ κ³µλ³€μ„±μ„ μ „μ²΄μ μΌλ΅ μ§€μ •ν•κ±°λ‚(μ„ μ–Έ μ§€μ  λ³€μ„±) κµ¬μ²΄μ μΈ μ‚¬μ© μ„μΉμ—μ„ μ§€μ •ν•  μ μμ(μ‚¬μ© μ§€μ  λ³€μ„±)
- μ λ„¤λ¦­ ν΄λμ¤μ νƒ€μ… μΈμκ°€ μ–΄λ–¤ νƒ€μ…μΈμ§€ μ •λ³΄κ°€ μ—†κ±°λ‚ νƒ€μ… μΈμκ°€ μ–΄λ–¤ νƒ€μ…μΈμ§€κ°€ μ¤‘μ”ν•μ§€ μ•μ„ λ• μ¤νƒ€ ν”„λ΅μ μ… κµ¬λ¬Έμ„ μ‚¬μ©ν•  μ μμ